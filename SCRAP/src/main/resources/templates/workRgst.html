<!DOCTYPE html>
<html 	xmlns:th="http://www.thymeleaf.org/"
		xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
		xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
		layout:decorate ="~{/common}"
>

	<head>
		<meta charset="UTF-8">
		<title>AccountNewRegist</title>
		<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
		<link rel="stylesheet" href="/css/workRgst.css">
	</head>
	<body>
		
		<!--本体部分-->
		<div layout:fragment="content">	
		
			<h3 class="title">Regist New Work</h3>
			
			<form th:action="@{/work/rgst}" method="post" th:object="${rgstWork}" enctype="multipart/form-data">
				<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

				<div class="work_type">
					<label for="type">Type</label>
					<select th:field="*{workType}" required>
					    <option value="true">書籍</option>
					    <option value="false">映像</option>
					</select>
				</div>
				
				<div class="work_title">
					<label for="name">Title</label>
					<input type="text" th:field="*{name}">
				</div>
				<div class="work_genre">
					<label for="genre">Genre</label>
					<select th:field="*{genre.id}" required>
					    <option th:each="genre : ${genres}" 
					            th:value="${genre.id}" 
					            th:text="${genre.name}">
					    </option>
					</select>
					
				</div>
				<div class="work_author">
					<label for="author">Author</label>
					<input type="text" th:field="*{author}">
				</div>
				<div class="work_file">
					<label for="image">Image</label>
					<input type="file" accept="image/*" th:field="*{file}">
				</div>
				<div class="submit">
					<button type="submit">Submit</button>
				</div>
			</form>
			
			
		</div>
		
	</body>
</html>